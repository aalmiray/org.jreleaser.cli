app-id: org.jreleaser.cli
runtime: org.freedesktop.Platform
runtime-version: '21.08'
sdk: org.freedesktop.Sdk
sdk-extensions:
  - org.freedesktop.Sdk.Extension.openjdk
command: jreleaser 
finish-args:
  - --env=PATH=/app/jre/bin:/usr/bin:/app/bin
  - --env=JAVA_HOME=/app/jre
  - --share=network
  - --filesystem=host
modules:
  - name: openjdk
    buildsystem: simple
    build-commands:
      - /usr/lib/sdk/openjdk/install.sh

  - name: jreleaser
    buildsystem: simple
    build-commands:
      - install -Dm755 bin/jreleaser /app/bin/jreleaser
      - install -Dm644 lib/JavaEWAH-1.1.12.jar /app/lib/JavaEWAH-1.1.12.jar
      - install -Dm644 lib/artifactory-java-sdk-1.0.0.jar /app/lib/artifactory-java-sdk-1.0.0.jar
      - install -Dm644 lib/aws-java-sdk-core-1.12.196.jar /app/lib/aws-java-sdk-core-1.12.196.jar
      - install -Dm644 lib/aws-java-sdk-kms-1.12.196.jar /app/lib/aws-java-sdk-kms-1.12.196.jar
      - install -Dm644 lib/aws-java-sdk-s3-1.12.196.jar /app/lib/aws-java-sdk-s3-1.12.196.jar
      - install -Dm644 lib/bcpg-jdk15on-1.69.jar /app/lib/bcpg-jdk15on-1.69.jar
      - install -Dm644 lib/bcprov-jdk15on-1.69.jar /app/lib/bcprov-jdk15on-1.69.jar
      - install -Dm644 lib/classmate-1.5.1.jar /app/lib/classmate-1.5.1.jar
      - install -Dm644 lib/codeberg-java-sdk-1.0.0.jar /app/lib/codeberg-java-sdk-1.0.0.jar
      - install -Dm644 lib/commons-codec-1.15.jar /app/lib/commons-codec-1.15.jar
      - install -Dm644 lib/commons-compress-1.21.jar /app/lib/commons-compress-1.21.jar
      - install -Dm644 lib/commons-io-2.11.0.jar /app/lib/commons-io-2.11.0.jar
      - install -Dm644 lib/commons-lang3-3.12.0.jar /app/lib/commons-lang3-3.12.0.jar
      - install -Dm644 lib/compiler-0.9.10.jar /app/lib/compiler-0.9.10.jar
      - install -Dm644 lib/discord-java-sdk-1.0.0.jar /app/lib/discord-java-sdk-1.0.0.jar
      - install -Dm644 lib/feign-core-11.8.jar /app/lib/feign-core-11.8.jar
      - install -Dm644 lib/feign-form-3.8.0.jar /app/lib/feign-form-3.8.0.jar
      - install -Dm644 lib/feign-httpclient-11.8.jar /app/lib/feign-httpclient-11.8.jar
      - install -Dm644 lib/feign-jackson-11.8.jar /app/lib/feign-jackson-11.8.jar
      - install -Dm644 lib/genericgit-java-sdk-1.0.0.jar /app/lib/genericgit-java-sdk-1.0.0.jar
      - install -Dm644 lib/git-sdk-1.0.0.jar /app/lib/git-sdk-1.0.0.jar
      - install -Dm644 lib/gitea-java-sdk-1.0.0.jar /app/lib/gitea-java-sdk-1.0.0.jar
      - install -Dm644 lib/github-api-1.129.jar /app/lib/github-api-1.129.jar
      - install -Dm644 lib/github-java-sdk-1.0.0.jar /app/lib/github-java-sdk-1.0.0.jar
      - install -Dm644 lib/gitlab-java-sdk-1.0.0.jar /app/lib/gitlab-java-sdk-1.0.0.jar
      - install -Dm644 lib/gitter-java-sdk-1.0.0.jar /app/lib/gitter-java-sdk-1.0.0.jar
      - install -Dm644 lib/google-chat-java-sdk-1.0.0.jar /app/lib/google-chat-java-sdk-1.0.0.jar
      - install -Dm644 lib/http-upload-java-sdk-1.0.0.jar /app/lib/http-upload-java-sdk-1.0.0.jar
      - install -Dm644 lib/httpclient-4.5.13.jar /app/lib/httpclient-4.5.13.jar
      - install -Dm644 lib/httpcore-4.4.13.jar /app/lib/httpcore-4.4.13.jar
      - install -Dm644 lib/ion-java-1.0.2.jar /app/lib/ion-java-1.0.2.jar
      - install -Dm644 lib/jackson-annotations-2.13.2.jar /app/lib/jackson-annotations-2.13.2.jar
      - install -Dm644 lib/jackson-core-2.13.2.jar /app/lib/jackson-core-2.13.2.jar
      - install -Dm644 lib/jackson-databind-2.13.2.2.jar /app/lib/jackson-databind-2.13.2.2.jar
      - install -Dm644 lib/jackson-dataformat-cbor-2.13.2.jar /app/lib/jackson-dataformat-cbor-2.13.2.jar
      - install -Dm644 lib/jackson-dataformat-toml-2.13.2.jar /app/lib/jackson-dataformat-toml-2.13.2.jar
      - install -Dm644 lib/jackson-dataformat-yaml-2.13.2.jar /app/lib/jackson-dataformat-yaml-2.13.2.jar
      - install -Dm644 lib/jakarta.activation-2.0.1.jar /app/lib/jakarta.activation-2.0.1.jar
      - install -Dm644 lib/jakarta.mail-2.0.1.jar /app/lib/jakarta.mail-2.0.1.jar
      - install -Dm644 lib/java-sdk-commons-1.0.0.jar /app/lib/java-sdk-commons-1.0.0.jar
      - install -Dm644 lib/jcl-over-slf4j-1.7.36.jar /app/lib/jcl-over-slf4j-1.7.36.jar
      - install -Dm644 lib/jmespath-java-1.12.196.jar /app/lib/jmespath-java-1.12.196.jar
      - install -Dm644 lib/joda-time-2.8.1.jar /app/lib/joda-time-2.8.1.jar
      - install -Dm644 lib/jreleaser-1.0.0.jar /app/lib/jreleaser-1.0.0.jar
      - install -Dm644 lib/jreleaser-assemblers-1.0.0.jar /app/lib/jreleaser-assemblers-1.0.0.jar
      - install -Dm644 lib/jreleaser-config-json-1.0.0.jar /app/lib/jreleaser-config-json-1.0.0.jar
      - install -Dm644 lib/jreleaser-config-toml-1.0.0.jar /app/lib/jreleaser-config-toml-1.0.0.jar
      - install -Dm644 lib/jreleaser-config-yaml-1.0.0.jar /app/lib/jreleaser-config-yaml-1.0.0.jar
      - install -Dm644 lib/jreleaser-engine-1.0.0.jar /app/lib/jreleaser-engine-1.0.0.jar
      - install -Dm644 lib/jreleaser-model-1.0.0.jar /app/lib/jreleaser-model-1.0.0.jar
      - install -Dm644 lib/jreleaser-templates-1.0.0.jar /app/lib/jreleaser-templates-1.0.0.jar
      - install -Dm644 lib/jreleaser-tools-1.0.0.jar /app/lib/jreleaser-tools-1.0.0.jar
      - install -Dm644 lib/jreleaser-utils-1.0.0.jar /app/lib/jreleaser-utils-1.0.0.jar
      - install -Dm644 lib/jreleaser-workflow-1.0.0.jar /app/lib/jreleaser-workflow-1.0.0.jar
      - install -Dm644 lib/jsonschema-generator-4.24.2.jar /app/lib/jsonschema-generator-4.24.2.jar
      - install -Dm644 lib/jsonschema-module-jackson-4.24.2.jar /app/lib/jsonschema-module-jackson-4.24.2.jar
      - install -Dm644 lib/mail-java-sdk-1.0.0.jar /app/lib/mail-java-sdk-1.0.0.jar
      - install -Dm644 lib/mastodon-java-sdk-1.0.0.jar /app/lib/mastodon-java-sdk-1.0.0.jar
      - install -Dm644 lib/mattermost-java-sdk-1.0.0.jar /app/lib/mattermost-java-sdk-1.0.0.jar
      - install -Dm644 lib/org.eclipse.jgit-5.13.0.202109080827-r.jar /app/lib/org.eclipse.jgit-5.13.0.202109080827-r.jar
      - install -Dm644 lib/org.tukaani.xz-0.3.jar /app/lib/org.tukaani.xz-0.3.jar
      - install -Dm644 lib/os-maven-plugin-1.7.0.jar /app/lib/os-maven-plugin-1.7.0.jar
      - install -Dm644 lib/picocli-4.6.3.jar /app/lib/picocli-4.6.3.jar
      - install -Dm644 lib/s3-java-sdk-1.0.0.jar /app/lib/s3-java-sdk-1.0.0.jar
      - install -Dm644 lib/sdkman-java-sdk-1.0.0.jar /app/lib/sdkman-java-sdk-1.0.0.jar
      - install -Dm644 lib/slack-java-sdk-1.0.0.jar /app/lib/slack-java-sdk-1.0.0.jar
      - install -Dm644 lib/slf4j-api-1.7.36.jar /app/lib/slf4j-api-1.7.36.jar
      - install -Dm644 lib/slf4j-simple-1.7.36.jar /app/lib/slf4j-simple-1.7.36.jar
      - install -Dm644 lib/snakeyaml-1.30.jar /app/lib/snakeyaml-1.30.jar
      - install -Dm644 lib/teams-java-sdk-1.0.0.jar /app/lib/teams-java-sdk-1.0.0.jar
      - install -Dm644 lib/telegram-java-sdk-1.0.0.jar /app/lib/telegram-java-sdk-1.0.0.jar
      - install -Dm644 lib/tika-core-2.3.0.jar /app/lib/tika-core-2.3.0.jar
      - install -Dm644 lib/tool-sdk-1.0.0.jar /app/lib/tool-sdk-1.0.0.jar
      - install -Dm644 lib/twitter-java-sdk-1.0.0.jar /app/lib/twitter-java-sdk-1.0.0.jar
      - install -Dm644 lib/twitter4j-core-4.0.7.jar /app/lib/twitter4j-core-4.0.7.jar
      - install -Dm644 lib/webhooks-java-sdk-1.0.0.jar /app/lib/webhooks-java-sdk-1.0.0.jar
      - install -Dm644 lib/yamllint-1.5.0.jar /app/lib/yamllint-1.5.0.jar
      - install -Dm644 lib/zt-exec-1.12.jar /app/lib/zt-exec-1.12.jar
      - install -Dm644 lib/zulip-java-sdk-1.0.0.jar /app/lib/zulip-java-sdk-1.0.0.jar
      - install -Dm644 -t /app/share/metainfo org.jreleaser.cli.metainfo.xml
      - install -Dm644 jreleaser-icon-256x256.png /app/share/icons/hicolor/256x256/apps/org.jreleaser.cli.png
    sources:
      - type: archive
        url: https://github.com/jreleaser/jreleaser/releases/download/v1.0.0/jreleaser-1.0.0.zip
        sha256: 07464127c00564bf8067c8fb490c2ddcc2ce19ac09604be92ce6b0bd3b48c2e7
      - type: file
        path: org.jreleaser.cli.metainfo.xml
      - type: file
        dest-filename: jreleaser-icon-256x256.png
        sha256: 647d2a1c070599d6f60fdb832315a02a0d9f37f6c10bca3060822a2dbe105f82
        size: 35816
        url: https://github.com/jreleaser/jreleaser/raw/main/src/media/icon_256x256.png